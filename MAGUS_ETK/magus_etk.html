<div class="main">
  <div class="logo" ></div>

  <!-- Tab block -->
  <input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab'  value='tab-1'  />
  <div class="tab-switcher">
    <button type="action" name="act_tab-1" class="tab-switch" >Általános</button>
    <button type="action" name="act_tab-2" class="tab-switch" >Képzettségek</button>
    <button type="action" name="act_tab-3" class="tab-switch" >Felszerelés</button>
  </div>
  <!-- Enf of tab block -->


  <div class="tab-1">

    <div class="container">
      <div class="section col-5 karakter values">
        <input type='text' name='attr_nev' placeholder='Karakter neve' />
        <label>Kaszt</label>
        <input type='text' name='attr_kaszt' placeholder='Kaszt' />
        <label>Faj</label>
        <input type='text' name='attr_faj' placeholder='Faj' />
        <label>Jellem</label>
        <input type='text' name='attr_jellem' placeholder='Jellem' />
        <label>Vallás</label>
        <input type='text' name='attr_vallas' placeholder='Vallás' />
        <label>Szülőföld</label>
        <input type='text' name='attr_szulofold' placeholder='Szülőföld' />
        <label>Iskola</label>
        <input type='text' name='attr_iskola' placeholder='Iskola' />
        <label>Nem</label>
        <input type='text' name='attr_nem' placeholder='Nem' />
      </div>

      <div class="section col-7">
        <div class="flex-table">
          <div>
            <div style="width: 162px"></div>
            <div style="text-align: center"><label>Alap</label></div>
            <div style="text-align: center"><label>Aktuális</label></div>
          </div>
          <div>
            <div>
              <label>Erő</label>
            </div>
            <div>
              <input type='number' name='attr_ero_max' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Alap erő próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{ero|max}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
            <div>
              <input type='number' name='attr_ero' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Erő próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{ero}-10+?{+/- módosítók?|0}]]}}'></button>
              <input type='hidden' name='attr_sebzesJarulek' value="@{ero}-14" disabled="true"/>
            </div>
          </div>
          <div>
            <div>
              <label>Állóképesség</label>
            </div>
            <div>
              <input type='number' name='attr_allokepesseg_max' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Alap állóképesség próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{allokepesseg|max}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
            <div>
              <input type='number' name='attr_allokepesseg' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Állóképesség próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{allokepesseg}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
          </div>
          <div>
            <div>
              <label>Gyorsaság</label>
            </div>
            <div>
              <input type='number' name='attr_gyorsasag_max' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Alap gyorsaság próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{gyorsasag|max}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
            <div>
              <input type='number' name='attr_gyorsasag' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Gyorsaság próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{gyorsasag}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
          </div>
          <div>
            <div>
              <label>Ügyesség</label>
            </div>
            <div>
              <input type='number' name='attr_ugyesseg_max' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Alap ügyesség próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{ugyesseg|max}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
            <div>
              <input type='number' name='attr_ugyesseg' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Ügyesség próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{ugyesseg}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
          </div>
          <div>
            <div>
              <label>Egészség</label>
            </div>
            <div>
              <input type='number' name='attr_egeszseg_max' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Alap egészség próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{egeszseg|max}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
            <div>
              <input type='number' name='attr_egeszseg' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Egészség próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{egeszseg}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
          </div>
          <div>
            <div>
              <label>Szépség</label>
            </div>
            <div>
              <input type='number' name='attr_szepseg_max' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Alap szépség próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{szepseg|max}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
            <div>
              <input type='number' name='attr_szepseg' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Szépség próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{szepseg}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
          </div>
          <div>
            <div>
              <label>Intelligencia</label>
            </div>
            <div>
              <input type='number' name='attr_intelligencia_max' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Alap intelligencia próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{intelligencia|max}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
            <div>
              <input type='number' name='attr_intelligencia' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Intelligencia próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{intelligencia}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
          </div>
          <div>
            <div>
              <label>Akaraterő</label>
            </div>
            <div>
              <input type='number' name='attr_akaratero_max' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Alap akaraterő próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{akaratero|max}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
            <div>
              <input type='number' name='attr_akaratero' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Akaraterő próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{akaratero}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
          </div>
          <div>
            <div>
              <label>Asztrál</label>
            </div>
            <div>
              <input type='number' name='attr_asztral_max' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Alap asztrál próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{asztral|max}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
            <div>
              <input type='number' name='attr_asztral' min="3" max="20"/>
              <button type='roll' value='&{template:default} {{name=Asztrál próba!}} {{Dobás=[[d10]]}} {{Célszám=[[@{asztral}-10+?{+/- módosítók?|0}]]}}'></button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="section col-5 values tapasztalat">
        <h2>Tapasztalat</h2>
        <div>
          <label>Tp</label>
          <input type='number' name='attr_tp' placeholder='Tp' min="0" />
        </div>
        <div>
          <label>Szint</label>
          <input type='number' name='attr_szint' placeholder='TSz' min="1" class="emphasized"/>
        </div>
        <div>
          <label>Következőhöz</label>
          <input type='number' name='attr_tp_max' placeholder='Köv. szint' min="100" />
        </div>
      </div>
      <div class="section col-7 values health">
        <div>
          <div>
            <label>Max. Ép</label>
            <input type='number' name='attr_ep_max' min="1"/>
          </div>
          <div>
            <label>Akt. Ép</label>
            <input type='number' name='attr_ep' min="0" class="emphasized" />
          </div>
        </div>
        <div>
          <div>
            <label>Max. Fp</label>
            <input type='number' name='attr_fp_max' min="1"/>
          </div>
          <div>
            <label>Akt. Fp</label>
            <input type='number' name='attr_fp' min="0" class="emphasized"/>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="section col-5 me">
        <h2>Mágiaellenállás</h2>
        <div class="flex-table">
          <div>
            <div><div style="width: 133px; height: 1em;"></div> </div>
            <div>Asztrál</div>
            <div>Mentál</div>
          </div>
          <div>
            <div>TME</div>
            <div><input type="number" name="attr_asztralTme"/></div>
            <div><input type="number" name="attr_mentalTme"/></div>
          </div>
          <div>
            <div>Statikus</div>
            <div><input type="number" name="attr_asztralStatikus"/></div>
            <div><input type="number" name="attr_mentalStatikus"/></div>
          </div>
          <div>
            <div>Dinamikus</div>
            <div><input type="number" name="attr_asztralDinamikus"/></div>
            <div><input type="number" name="attr_mentalDinamikus"/></div>
          </div>
          <div>
            <div>Egyéb</div>
            <div><input type="number" name="attr_asztralEgyeb"/></div>
            <div><input type="number" name="attr_mentalEgyeb"/></div>
          </div>
          <div>
            <div><label>ME</label></div>
            <div><input type="number" name="attr_asztral" value="@{asztralTme}+@{asztralStatikus}+@{asztralDinamikus}+@{asztralEgyeb}" disabled="true"/></div>
            <div><input type="number" name="attr_mental" value="@{mentalTme}+@{mentalStatikus}+@{mentalDinamikus}+@{mentalEgyeb}" disabled="true"/></div>
          </div>
        </div>
      </div>

      <div class="section col-7 mind values">

        <table>
          <tr>
            <th colspan="3"><h3>Pszi</h3></th>
          </tr>
          <tr>
            <th><label>ösvény</label></th>
            <th><label>fok</label></th>
            <th><label>szint</label></th>
          </tr>
          <tr>
            <td><input type="text" name="attr_psziTipus" class="col-11"/></td>
            <td><input type="text" name="attr_psziFok" class="col-11"/></td>
            <td><input type="text" name="attr_psziSzint" class="col-11"/></td>
          </tr>

          <tr>
            <th></th>
            <th><label>max.</label></th>
            <th><label>akt.</label></th>
          </tr>
          <tr>
            <td>Pp</td>
            <td><input type="number" name="attr_pp_max" class="col-11" style="width: 106px"/></td>
            <td><input type="number" name="attr_pp" class="col-11 emphasized" style="width: 106px" /></td>
          </tr>

          <tr>
            <th colspan="3"><h3>Mágia</h3></th>
          </tr>
          <tr>
            <th colspan="2"><label>iskola</label></th>
            <th><label>szint</label></th>
          </tr>
          <tr>
            <td colspan="2"><input type="text" name="attr_magiaTipus" class="col-11" style="margin-left: 12px;"/></td>
            <td><input type="text" name="attr_magiaSzint" class="col-11"/></td>
          </tr>

          <tr>
            <th></th>
            <th><label>max.</label></th>
            <th><label>akt.</label></th>
          </tr>
          <tr>
            <td>Mp</td>
            <td><input type="number" name="attr_mp_max"  style="width: 106px" /></td>
            <td><input type="number" name="attr_mp" class="emphasized" style="width: 106px" /></td>
          </tr>
        </table>
      </div>
    </div>

    <div class="container">

      <div class="section col-12 harcertek values" style="overflow-y: auto">
        <table>
          <tr><td colspan="6"><h2>Harcértékek</h2></td></tr>

          <tr>
            <th><div style="width: 8em;"></div></th>
            <th><label>tám.</label></th>
            <th><label>KÉ</label></th>
            <th><label>TÉ</label></th>
            <th><label>VÉ</label></th>
            <th><label>CÉ</label></th>
            <th><label>Sebz.</label></th>

            <th colspan="2"><label>Vért</label></th>
          </tr>

          <tr>
            <td>alap</td>
            <td><input type="number" name="attr_tam_max" min="0"></td>
            <td><input type="number" name="attr_keAlap" min="0"></td>
            <td><input type="number" name="attr_teAlap" min="0"></td>
            <td><input type="number" name="attr_veAlap" min="0"></td>
            <td><input type="number" name="attr_ceAlap" min="0"></td>
            <td><input type="number" name="attr_ero_sebzes" min="0"></td>

            <td style="padding: 0 5px; white-space: nowrap;">név</td>
            <td style="max-width: 130px;"><input type="string" name="attr_vertTipus" style="width: 100%; font-weight: bold; text-align: center;"/></td>
          </tr>
          <tr>
            <td>szintenként</td>
            <td style="text-align: center">-</td>
            <td><input type="number" name="attr_kePerSzint" min="0"></td>
            <td><input type="number" name="attr_tePerSzint" min="0"></td>
            <td><input type="number" name="attr_vePerSzint" min="0"></td>
            <td><input type="number" name="attr_cePerSzint" min="0"></td>
            <td><input type="number" name="attr_sebzesPerSzint" min="0"></td>

            <td style="padding: 0 5px; white-space: nowrap;">MGT</td>
            <td style="text-align: center"><input type="number" name="attr_vertMgt" max="0" /></td>
          </tr>
          <tr>
            <td>Egyéb mod.</td>
            <td style="text-align: center">-</td>
            <td><input type="number" name="attr_keMod" min="0"></td>
            <td><input type="number" name="attr_teMod" min="0"></td>
            <td><input type="number" name="attr_veMod" min="0"></td>
            <td><input type="number" name="attr_ceMod" min="0"></td>
            <td><input type="number" name="attr_sebzesMod" min="0"></td>

            <td style="padding: 0 5px; white-space: nowrap;">SFÉ</td>
            <td style="text-align: center"><input type="number" name="attr_vertSfe_max" min="0" /></td>
          </tr>
          <tr>
            <td>Fegyver nélkül</td>
            <td style="text-align: center">-</td>
            <td><input type="number" name="attr_ke" min="0"></td>
            <td><input type="number" name="attr_te" min="0"></td>
            <td><input type="number" name="attr_ve" min="0"></td>
            <td><input type="number" name="attr_ce" min="0"></td>
            <td><input type="number" name="attr_sebzes" min="0"></td>

            <td style="padding: 0 5px; white-space: nowrap;">akt. SFÉ</td>
            <td style="text-align: center"><input type="number" name="attr_vertSfe" min="0"/></td>
          </tr>


        </table>

        <div class="karakterFegyverek values">
          <h2>Fegyverek</h2>
          <h3>Kézi fegyverek</h3>
          <div>
            <div class="cell" style="width: 8em; text-align: center">Név</div>
            <div class="cell" style="width: 3em; text-align: center;">Tám.</div>
            <div class="cell" style="width: 45.55px; text-align: center">KÉ</div>
            <div class="cell" style="width: 45.5px; text-align: center">TÉ</div>
            <div class="cell" style="width: 45.5px; text-align: center">VÉ</div>
            <div class="cell" style="width: 12em; text-align: center">Sebzés</div>
          </div>
          <fieldset class="repeating_fegyverek">
            <div class="row">
              <div class="cell"><input type='text' name='attr_fegyverNev' style="width: 8em"/></div>
              <div class="cell"><input type='text' name='attr_fegyverTam' class="digit-2"/></div>
              <div class="cell"><input type='number' name='attr_fegyverKe' /></div>
              <div class="cell"><input type='number' name='attr_fegyverTe' /></div>
              <div class="cell"><input type='number' name='attr_fegyverVe' /></div>
              <div class="cell">
                <input type='number' name='attr_fegyverSebzesMulti' class="dice-1"/>k
                <input type='number' name='attr_fegyverSebzesOldal' class="dice-3"/>+
                <input type='number' name='attr_fegyverSebzesPlusz' class="dice-1"/>
              </div>
              <div class="cell">
                <button title="Kezdeményező Dobás" type='roll' value='&{template:default} {{name=Kezdeményezés - @{fegyverNev}}} {{Dobás=[[ d10 + @{ke} + @{fegyverKe} +?{+/- módosítók?|0} ]]}}'></button>
                <button title="Támadó Dobás" type='roll' value='&{template:default} {{name=Támadás - @{fegyverNev}}} {{Dobás=[[ d100 + @{te} + @{fegyverTe} +?{+/- módosítók?|0} ]]}}'></button>
                <button title="Sebzés" type='roll' value='&{template:default} {{name=Sebzés - @{fegyverNev}}} {{Dobás=[[ @{fegyverSebzesMulti}d@{fegyverSebzesOldal} + @{fegyverSebzesPlusz} + @{ero_sebzes} +?{+/- módosítók?|0} ]]}}'></button>
              </div>
            </div>
          </fieldset>

          <h3>Célzó fegyverek</h3>
          <div>
            <div class="cell" style="width: 8em; text-align: center">Név</div>
            <div class="cell" style="width: 3em; text-align: center">Tám.</div>
            <div class="cell" style="width: 45.55px; text-align: center">KÉ</div>
            <div class="cell" style="width: 45.5px; text-align: center">CÉ</div>
            <div class="cell" style="width: 45.5px; text-align: center">Táv</div>
            <div class="cell" style="width: 12em; text-align: center">Sebzés</div>
          </div>
          <fieldset class="repeating_tavFegyverek">
            <div class="row">
              <div class="cell"><input type='text' name='attr_fegyverNev' style="width: 8em" /></div>
              <div class="cell"><input type='text' name='attr_fegyverTam' class="digit-2"/></div>
              <div class="cell"><input type='number' name='attr_fegyverKe' /></div>
              <div class="cell"><input type='number' name='attr_fegyverCe' /></div>
              <div class="cell"><input type='number' name='attr_fegyverTav' /></div>
              <div class="cell">
                <input type='number' name='attr_fegyverSebzesMulti' class="dice-1" />k
                <input type='number' name='attr_fegyverSebzesOldal' class="dice-3" />+
                <input type='number' name='attr_fegyverSebzesPlusz' class="dice-1" />
              </div>
              <div class="cell">
                <button title="Kezdeményező Dobás" type='roll' value='&{template:default} {{name=Kezdeményezés - @{fegyverNev}}} {{Dobás=[[ d10 + @{ke} + @{fegyverKe} +?{+/- módosítók?|0} ]]}}'></button>
                <button title="Célzó Dobás"type='roll' value='&{template:default} {{name=Célzás - @{fegyverNev}}} {{Dobás=[[ d100 + @{ce} + @{fegyverCe} +?{+/- módosítók?|0} ]]}}'></button>
                <button title="Sebzés" type='roll' value='&{template:default} {{name=Sebzés - @{fegyverNev}}} {{Dobás=[[ @{fegyverSebzesMulti}d@{fegyverSebzesOldal} + @{fegyverSebzesPlusz} +?{+/- módosítók?|0} ]]}}'></button>
              </div>
            </div>
          </fieldset>

        </div>
      </div>
    </div>

  </div>

  <div class="tab-2">
    <div class="section karakterKepzettseg">
      <h2>Képzettségek</h2>

      <div class="flex-table">
        <div>
          <div>Kp</div>
          <div><input type="number" name="attr_kp" /></div>
          <div>%</div>
          <div><input type="number" name="attr_szazalek" /></div>
        </div>
      </div>

      <div class="flex">
        <div style="width: 49%; margin-right: 1%;">
          <h3>Képzettségek - 2 fokú</h3>
          <div>
            <div class="row">
              <div style="width: 242px; padding: 0 2px;">Képzettség</div>
              <div style="width: 2em; text-align: center; padding: 0 2px;">Af</div>
              <div style="width: 2em; text-align: center; padding: 0 2px;">Mf</div>
            </div>
            <fieldset class="repeating_kepesseg2">
              <div class="row">
                <div><input type="text" name="attr_kepesseg2Nev"  style="width: 242px; text-align: left;"></div>
                <div><input type="checkbox" name="attr_kepesseg2Af"></div>
                <div><input type="checkbox" name="attr_kepesseg2Mf"></div>
              </div>
            </fieldset>
          </div>
        </div>

        <div style="width: 49%; margin-left: 1%;">
          <h3>Képzettségek - %-os</h3>
          <div>
            <div class="row">
              <div style="width: 254px; padding: 0 2px;">Képzettség</div>
              <div style="width: 3.5em; text-align: center; padding: 0 2px;">%</div>
              <div></div>
            </div>
            <fieldset class="repeating_kepesseg%">
              <div class="row">
                <div><input type="text" name="attr_kepesseg%Nev" style="width: 220px; text-align: left;"></div>
                <div>
                  <button title="Képzettség próba" type='roll' value='&{template:default} {{name=@{kepesseg%Nev} próba!}} {{Dobás=[[d100]]}} {{Célszám=[[@{kepesseg%Fok}+?{+/- módosítók?|0}]]}}'></button>
                </div>
                <div><input type="number" name="attr_kepesseg%Fok"></div>
              </div>
            </fieldset>
          </div>

          <h3>Képzetstségek - nyelvek</h3>
          <div>
            <div class="row">
              <div style="width: 252px; padding: 0 2px;">Képzettség</div>
              <div style="width: 3.5em; text-align: center; padding: 0 2px;">Fok</div>
            </div>

            <fieldset class="repeating_kepesseg5">
              <div class="row">
                <div><input type="text" name="attr_kepesseg5Nev" style="width: 252px; text-align: left;"></div>
                <div><input type="number" name="attr_kepesseg5Fok"></div>
              </div>
            </fieldset>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="tab-3">
    <div class="section karakterFelszereles">
      <h2>Felszerelés</h2>

      <textarea name="attr_felszereles" rows="10">

    </textarea>
    </div>
  </div>

</div>

<script type="text/worker">
  const buttonlist = ["tab-1","tab-2","tab-3"];
  buttonlist.forEach(button => {
    on(`clicked:${button}`, function() {
      setAttrs({
        sheetTab: button
      });
    });
  });
</script>

<script type="text/worker">
  /**
   * Migrating v1.0 to v1.1
   *  Calculating KE, TE, VE, CE fields and persist them.
   */
  function migrateTo1_1() {
    getAttrs([
      "ugyesseg",
      "gyorsasag",
      "keAlap",
      "kePerSzint",
      "keMod",
      "szint"
    ], function(values) {
      console.log("values", values);
      const ke = calcKE(values.ugyesseg, values.gyorsasag, values.keAlap, values.kePerSzint, values.keMod, values.szint);
      setAttrs({ke})
    });

    getAttrs([
      "ero",
      "ugyesseg",
      "gyorsasag",
      "teAlap",
      "tePerSzint",
      "teMod",
      "szint"
    ], function(values) {
      console.log("values", values);
      const te = calcTE(values.ero, values.ugyesseg, values.gyorsasag, values.teAlap, values.tePerSzint, values.teMod, values.szint);
      setAttrs({te})
    });

    getAttrs([
      "ugyesseg",
      "gyorsasag",
      "veAlap",
      "vePerSzint",
      "veMod",
      "szint"
    ], function(values) {
      console.log("values", values);
      const ve = calcVE(values.ugyesseg, values.gyorsasag, values.veAlap, values.vePerSzint, values.veMod, values.szint);
      setAttrs({ve})
    });

    getAttrs([
      "ugyesseg",
      "ceAlap",
      "cePerSzint",
      "ceMod",
      "szint"
    ], function(values) {
      console.log("values", values);
      const ce = calcCE(values.ugyesseg, values.gyorsasag, values.ceAlap, values.cePerSzint, values.ceMod, values.szint);
      setAttrs({ce})
    });

    setAttrs({migrated_1_0: "true"});
  }

  on("sheet:opened", function() {
    getAttrs(["migrated_1_0"], function(values) {
      if (values.migrated_1_0 != "true") {
        console.info("Migrating from v1.0 to v1.1");
        migrateTo1_1();
      } else {
        console.info("Has been migrated from v1.0 to v1.1")
      }
    });
  });

  function tizFelettiResz(tul) {
    const result = tul - 10 < 0 ? 0 : tul - 10;
    console.log(tul, "=>", result);
    return result;
  }

  function calcKE(ugyesseg, gyorsasag, alap, perSzint, mod, szint) {
    console.log("ugyesseg", ugyesseg, "gyorsasag", gyorsasag, "alap", alap, "perSzint", perSzint, "mod", mod, "szint", szint)

    const ke = tizFelettiResz(ugyesseg) + tizFelettiResz(gyorsasag) + Number(alap) + Number(szint) * Number(perSzint) + Number(mod);
    console.log("KE", ke);

    return ke;
  }

  function calcTE(ero, ugyesseg, gyorsasag, alap, perSzint, mod, szint) {
    console.log("ero", ero, "ugyesseg", ugyesseg, "gyorsasag", gyorsasag, "alap", alap, "perSzint", perSzint, "szint", szint)

    const te = tizFelettiResz(ero) + tizFelettiResz(ugyesseg) + tizFelettiResz(gyorsasag) + Number(alap) + Number(szint) * Number(perSzint) + Number(mod);
    console.log("TE", te);

    return te;
  }

  function calcVE(ugyesseg, gyorsasag, alap, perSzint, mod, szint) {
    console.log("ugyesseg", ugyesseg, "gyorsasag", gyorsasag, "alap", alap, "perSzint", perSzint, "szint", szint)

    const ve = tizFelettiResz(ugyesseg) + tizFelettiResz(gyorsasag) + Number(alap) + Number(szint) * Number(perSzint) + Number(mod);
    console.log("VE", ve);

    return ve;
  }

  function calcCE(ugyesseg, alap, perSzint, mod, szint) {
    console.log("ugyesseg", ugyesseg, "alap", alap, "perSzint", perSzint, "szint", szint)

    const ce = tizFelettiResz(ugyesseg) + Number(alap | 0) + Number(szint) * Number(perSzint | 0) + Number(mod);
    console.log("CE", ce);

    return ce;
  }
</script>